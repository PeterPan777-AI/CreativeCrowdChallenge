{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = wrapJSX;\nvar api_1 = require(\"./api\");\nvar react_native_safe_area_context_1 = require(\"./third-party-libs/react-native-safe-area-context\");\nfunction wrapJSX(jsx) {\n  return function (type, props) {\n    if (type === \"react-native-css-interop-jsx-pragma-check\") {\n      return true;\n    }\n    if (process.env.NODE_ENV !== \"test\") require(\"./components\");\n    type = (0, react_native_safe_area_context_1.maybeHijackSafeAreaProvider)(type);\n    if (props && props.cssInterop === false) {\n      delete props.cssInterop;\n    } else {\n      var _api_1$interopCompone;\n      type = (_api_1$interopCompone = api_1.interopComponents.get(type)) != null ? _api_1$interopCompone : type;\n    }\n    for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      rest[_key - 2] = arguments[_key];\n    }\n    return jsx.call.apply(jsx, [jsx, type, props].concat(rest));\n  };\n}","map":{"version":3,"names":["exports","default","wrapJSX","api_1","require","react_native_safe_area_context_1","jsx","type","props","process","env","NODE_ENV","maybeHijackSafeAreaProvider","cssInterop","_api_1$interopCompone","interopComponents","get","_len","arguments","length","rest","Array","_key","call","apply","concat"],"sources":["/home/runner/workspace/node_modules/react-native-css-interop/src/runtime/wrap-jsx.ts"],"sourcesContent":["import type { JSXFunction } from \"../types\";\nimport { interopComponents } from \"./api\";\nimport { maybeHijackSafeAreaProvider } from \"./third-party-libs/react-native-safe-area-context\";\n\n/**\n * Create a new JSX function that swaps the component type being rendered with\n * the 'interop' version of the component if it exists.\n */\nexport default function wrapJSX(jsx: JSXFunction): JSXFunction {\n  return function (type, props, ...rest) {\n    // This is invalid react code. Its used by the doctor to check if the JSX pragma is set correctly\n    if ((type as any) === \"react-native-css-interop-jsx-pragma-check\") {\n      return true as any;\n    }\n\n    // Load the core React Native components and create the interop versions\n    // We avoid this in the test environment as we want more fine-grained control\n    // This call also need to be inside the JSX transform to avoid circular dependencies\n    if (process.env.NODE_ENV !== \"test\") require(\"./components\");\n\n    type = maybeHijackSafeAreaProvider(type);\n\n    // You can disable the css interop by setting `cssInterop` to false\n    if (props && props.cssInterop === false) {\n      delete props.cssInterop;\n    } else {\n      // Swap the component type with the interop version if it exists\n      type = interopComponents.get(type) ?? type;\n    }\n\n    // Call the original jsx function with the new type\n    return jsx.call(jsx, type, props, ...rest);\n  };\n}\n"],"mappings":";;;;;AAQAA,OAAA,CAAAC,OAAA,GAAAC,OAAA;AAPA,IAAAC,KAAA,GAAAC,OAAA;AACA,IAAAC,gCAAA,GAAAD,OAAA;AAMA,SAAwBF,OAAOA,CAACI,GAAgB;EAC9C,OAAO,UAAUC,IAAI,EAAEC,KAAK,EAAS;IAEnC,IAAKD,IAAY,KAAK,2CAA2C,EAAE;MACjE,OAAO,IAAW;IACpB;IAKA,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAEP,OAAO,eAAe,CAAC;IAE5DG,IAAI,GAAG,IAAAF,gCAAA,CAAAO,2BAA2B,EAACL,IAAI,CAAC;IAGxC,IAAIC,KAAK,IAAIA,KAAK,CAACK,UAAU,KAAK,KAAK,EAAE;MACvC,OAAOL,KAAK,CAACK,UAAU;IACzB,CAAC,MAAM;MAAA,IAAAC,qBAAA;MAELP,IAAI,IAAAO,qBAAA,GAAGX,KAAA,CAAAY,iBAAiB,CAACC,GAAG,CAACT,IAAI,CAAC,YAAAO,qBAAA,GAAIP,IAAI;IAC5C;IAAC,SAAAU,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAnB8BC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAJF,IAAI,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;IAAA;IAsBnC,OAAOhB,GAAG,CAACiB,IAAI,CAAAC,KAAA,CAARlB,GAAG,GAAMA,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAAiB,MAAA,CAAKL,IAAI,EAAC;EAC5C,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}