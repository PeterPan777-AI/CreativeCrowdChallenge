{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Feather } from '@expo/vector-icons';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function RatingComponent(_ref) {\n  var _ref$userRating = _ref.userRating,\n    userRating = _ref$userRating === void 0 ? 0 : _ref$userRating,\n    _ref$avgRating = _ref.avgRating,\n    avgRating = _ref$avgRating === void 0 ? 0 : _ref$avgRating,\n    _ref$totalRatings = _ref.totalRatings,\n    totalRatings = _ref$totalRatings === void 0 ? 0 : _ref$totalRatings,\n    onRate = _ref.onRate,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    hoveredRating = _useState2[0],\n    setHoveredRating = _useState2[1];\n  var handleRate = function handleRate(rating) {\n    if (!disabled && onRate) {\n      onRate(rating);\n    }\n  };\n  var renderStars = function renderStars(currentRating) {\n    var interactive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var stars = [];\n    var _loop = function _loop(i) {\n      var filled = i <= currentRating;\n      var hovered = interactive && i <= hoveredRating;\n      stars.push(_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return interactive && handleRate(i);\n        },\n        onPressIn: function onPressIn() {\n          return interactive && setHoveredRating(i);\n        },\n        onPressOut: function onPressOut() {\n          return interactive && setHoveredRating(0);\n        },\n        disabled: !interactive || disabled,\n        className: `mr-1 ${disabled ? 'opacity-50' : ''}`,\n        children: _jsx(Feather, {\n          name: filled || hovered ? 'star' : 'star',\n          size: interactive ? 24 : 16,\n          color: filled || hovered ? '#F59E0B' : '#E5E7EB'\n        })\n      }, i));\n    };\n    for (var i = 1; i <= 10; i++) {\n      _loop(i);\n    }\n    return stars;\n  };\n  return _jsxs(View, {\n    className: \"bg-gray-50 rounded-lg p-3 mt-1\",\n    children: [_jsx(View, {\n      className: \"flex-row justify-between items-center mb-3\",\n      children: _jsxs(View, {\n        className: \"flex-row items-center\",\n        children: [_jsx(Text, {\n          className: \"text-gray-700 font-medium mr-2\",\n          children: \"Rating:\"\n        }), _jsx(Text, {\n          className: \"text-lg font-bold text-amber-500 mr-1\",\n          children: avgRating\n        }), _jsxs(Text, {\n          className: \"text-gray-500\",\n          children: [\"(\", totalRatings, \" \", totalRatings === 1 ? 'vote' : 'votes', \")\"]\n        })]\n      })\n    }), !disabled ? _jsxs(View, {\n      children: [_jsx(Text, {\n        className: \"text-gray-700 font-medium mb-2\",\n        children: \"Rate this submission:\"\n      }), _jsx(View, {\n        className: \"flex-row items-center justify-center py-2\",\n        children: renderStars(userRating, true)\n      }), userRating > 0 && _jsxs(Text, {\n        className: \"text-center text-gray-600 italic mt-1\",\n        children: [\"Your rating: \", userRating, \"/10\"]\n      })]\n    }) : _jsxs(View, {\n      className: \"flex-row flex-wrap items-center justify-center\",\n      children: [renderStars(avgRating), disabled && userRating === 0 && _jsx(Text, {\n        className: \"text-sm text-gray-500 mt-1 w-full text-center\",\n        children: disabled && userRating === 0 && \"You can't rate your own submission or this competition has ended.\"\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","TouchableOpacity","Feather","jsx","_jsx","jsxs","_jsxs","RatingComponent","_ref","_ref$userRating","userRating","_ref$avgRating","avgRating","_ref$totalRatings","totalRatings","onRate","_ref$disabled","disabled","_useState","_useState2","_slicedToArray","hoveredRating","setHoveredRating","handleRate","rating","renderStars","currentRating","interactive","arguments","length","undefined","stars","_loop","i","filled","hovered","push","onPress","onPressIn","onPressOut","className","children","name","size","color"],"sources":["/home/runner/workspace/src/components/RatingComponent.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function RatingComponent({ \n  userRating = 0, \n  avgRating = 0, \n  totalRatings = 0, \n  onRate, \n  disabled = false \n}) {\n  const [hoveredRating, setHoveredRating] = useState(0);\n  \n  const handleRate = (rating) => {\n    if (!disabled && onRate) {\n      onRate(rating);\n    }\n  };\n  \n  const renderStars = (currentRating, interactive = false) => {\n    const stars = [];\n    \n    for (let i = 1; i <= 10; i++) {\n      const filled = i <= currentRating;\n      const hovered = interactive && i <= hoveredRating;\n      \n      stars.push(\n        <TouchableOpacity\n          key={i}\n          onPress={() => interactive && handleRate(i)}\n          onPressIn={() => interactive && setHoveredRating(i)}\n          onPressOut={() => interactive && setHoveredRating(0)}\n          disabled={!interactive || disabled}\n          className={`mr-1 ${disabled ? 'opacity-50' : ''}`}\n        >\n          <Feather \n            name={filled || hovered ? 'star' : 'star'} \n            size={interactive ? 24 : 16} \n            color={filled || hovered ? '#F59E0B' : '#E5E7EB'} \n          />\n        </TouchableOpacity>\n      );\n    }\n    \n    return stars;\n  };\n  \n  return (\n    <View className=\"bg-gray-50 rounded-lg p-3 mt-1\">\n      {/* Average rating display */}\n      <View className=\"flex-row justify-between items-center mb-3\">\n        <View className=\"flex-row items-center\">\n          <Text className=\"text-gray-700 font-medium mr-2\">Rating:</Text>\n          <Text className=\"text-lg font-bold text-amber-500 mr-1\">{avgRating}</Text>\n          <Text className=\"text-gray-500\">({totalRatings} {totalRatings === 1 ? 'vote' : 'votes'})</Text>\n        </View>\n      </View>\n      \n      {/* User's rating or rating selector */}\n      {!disabled ? (\n        <View>\n          <Text className=\"text-gray-700 font-medium mb-2\">Rate this submission:</Text>\n          <View className=\"flex-row items-center justify-center py-2\">\n            {renderStars(userRating, true)}\n          </View>\n          {userRating > 0 && (\n            <Text className=\"text-center text-gray-600 italic mt-1\">\n              Your rating: {userRating}/10\n            </Text>\n          )}\n        </View>\n      ) : (\n        <View className=\"flex-row flex-wrap items-center justify-center\">\n          {renderStars(avgRating)}\n          {disabled && userRating === 0 && (\n            <Text className=\"text-sm text-gray-500 mt-1 w-full text-center\">\n              {disabled && userRating === 0 && \n                \"You can't rate your own submission or this competition has ended.\"}\n            </Text>\n          )}\n        </View>\n      )}\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}