{"ast":null,"code":"\"use strict\";\n\"use client\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _objectDestructuringEmpty = require(\"@babel/runtime/helpers/objectDestructuringEmpty\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useUnstableNativeVariable = exports.remapProps = exports.cssInterop = exports.useColorScheme = exports.rem = exports.colorScheme = exports.StyleSheet = void 0;\nexports.vars = vars;\nexports.useSafeAreaEnv = useSafeAreaEnv;\nvar react_1 = require(\"react\");\nvar shared_1 = require(\"../../shared\");\nvar config_1 = require(\"../config\");\nvar interopComponentsMap_1 = require(\"./interopComponentsMap\");\nvar stylesheet_1 = require(\"./stylesheet\");\nObject.defineProperty(exports, \"StyleSheet\", {\n  enumerable: true,\n  get: function get() {\n    return stylesheet_1.StyleSheet;\n  }\n});\nvar color_scheme_1 = require(\"./color-scheme\");\nObject.defineProperty(exports, \"colorScheme\", {\n  enumerable: true,\n  get: function get() {\n    return color_scheme_1.colorScheme;\n  }\n});\nvar rem_1 = require(\"./rem\");\nObject.defineProperty(exports, \"rem\", {\n  enumerable: true,\n  get: function get() {\n    return rem_1.rem;\n  }\n});\nvar ForwardRefSymbol = Symbol.for(\"react.forward_ref\");\nvar useColorScheme_1 = require(\"./useColorScheme\");\nObject.defineProperty(exports, \"useColorScheme\", {\n  enumerable: true,\n  get: function get() {\n    return useColorScheme_1.useColorScheme;\n  }\n});\nvar cssInterop = function cssInterop(baseComponent, mapping) {\n  var _ref3, _baseComponent$displa;\n  var configs = (0, config_1.getNormalizeConfig)(mapping);\n  var interopComponent = (0, react_1.forwardRef)(function CssInteropComponent(_ref, ref) {\n    var props = Object.assign({}, (_objectDestructuringEmpty(_ref), _ref));\n    if (props.cssInterop === false) {\n      return (0, react_1.createElement)(baseComponent, props);\n    }\n    props = _objectSpread(_objectSpread({}, props), {}, {\n      ref: ref\n    });\n    for (var config of configs) {\n      var source = props[config.source];\n      if (typeof source === \"string\" && source) {\n        (0, shared_1.assignToTarget)(props, _defineProperty({\n          $$css: true\n        }, source, source), config, {\n          objectMergeStyle: \"toArray\"\n        });\n      }\n      delete props[config.source];\n    }\n    if (\"$$typeof\" in baseComponent && typeof baseComponent === \"function\" && baseComponent.$$typeof === ForwardRefSymbol) {\n      delete props.cssInterop;\n      return baseComponent.render(props, props.ref);\n    } else if (typeof baseComponent === \"function\" && !(baseComponent.prototype instanceof react_1.Component)) {\n      delete props.cssInterop;\n      return baseComponent(props);\n    } else {\n      return (0, react_1.createElement)(baseComponent, props);\n    }\n  });\n  interopComponent.displayName = `CssInterop.${(_ref3 = (_baseComponent$displa = baseComponent.displayName) != null ? _baseComponent$displa : baseComponent.name) != null ? _ref3 : \"unknown\"}`;\n  interopComponentsMap_1.interopComponents.set(baseComponent, interopComponent);\n  return interopComponent;\n};\nexports.cssInterop = cssInterop;\nexports.remapProps = exports.cssInterop;\nvar useUnstableNativeVariable = function useUnstableNativeVariable(name) {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"useUnstableNativeVariable is not supported on web.\");\n  }\n  return undefined;\n};\nexports.useUnstableNativeVariable = useUnstableNativeVariable;\nfunction vars(variables) {\n  var $variables = {};\n  for (var _ref4 of Object.entries(variables)) {\n    var _ref5 = _slicedToArray(_ref4, 2);\n    var key = _ref5[0];\n    var value = _ref5[1];\n    if (key.startsWith(\"--\")) {\n      $variables[key] = value.toString();\n    } else {\n      $variables[`--${key}`] = value.toString();\n    }\n  }\n  return $variables;\n}\nfunction useSafeAreaEnv() {\n  return undefined;\n}","map":{"version":3,"names":["_slicedToArray","require","_defineProperty","_objectDestructuringEmpty","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","vars","useSafeAreaEnv","react_1","shared_1","config_1","interopComponentsMap_1","stylesheet_1","get","StyleSheet","color_scheme_1","colorScheme","rem_1","rem","ForwardRefSymbol","Symbol","for","useColorScheme_1","useColorScheme","cssInterop","baseComponent","mapping","_ref3","_baseComponent$displa","configs","getNormalizeConfig","interopComponent","forwardRef","CssInteropComponent","_ref","ref","props","assign","createElement","config","source","assignToTarget","$$css","objectMergeStyle","$$typeof","render","prototype","Component","displayName","name","interopComponents","set","remapProps","useUnstableNativeVariable","process","env","NODE_ENV","console","log","undefined","variables","$variables","_ref4","entries","_ref5","key","value","startsWith","toString"],"sources":["/home/runner/workspace/node_modules/react-native-css-interop/src/runtime/web/api.ts"],"sourcesContent":["\"use client\";\n\nimport { Component, createElement, forwardRef } from \"react\";\n\nimport { assignToTarget } from \"../../shared\";\nimport { CssInterop } from \"../../types\";\nimport { getNormalizeConfig } from \"../config\";\nimport { interopComponents } from \"./interopComponentsMap\";\n\nexport { StyleSheet } from \"./stylesheet\";\nexport { colorScheme } from \"./color-scheme\";\nexport { rem } from \"./rem\";\n\nconst ForwardRefSymbol = Symbol.for(\"react.forward_ref\");\nexport { useColorScheme } from \"./useColorScheme\";\nexport const cssInterop: CssInterop = (baseComponent, mapping): any => {\n  const configs = getNormalizeConfig(mapping);\n\n  /**\n   * Turns this:\n   *   <View className=\"text-red-500\" />\n   * Into this:\n   *   <View style={{ $$css: true, \"text-red-500\": \"text-red-500\"}} />\n   */\n  const interopComponent = forwardRef(function CssInteropComponent(\n    { ...props }: Record<string, any>,\n    ref: any,\n  ) {\n    if (props.cssInterop === false) {\n      return createElement(baseComponent, props);\n    }\n\n    props = { ...props, ref };\n    for (const config of configs) {\n      const source = props[config.source];\n\n      // Ensure we only add non-empty strings\n      if (typeof source === \"string\" && source) {\n        assignToTarget(\n          props,\n          {\n            $$css: true,\n            [source]: source,\n          },\n          config,\n          {\n            objectMergeStyle: \"toArray\",\n          },\n        );\n      }\n\n      delete props[config.source];\n    }\n\n    if (\n      \"$$typeof\" in baseComponent &&\n      typeof baseComponent === \"function\" &&\n      baseComponent.$$typeof === ForwardRefSymbol\n    ) {\n      delete props.cssInterop;\n      return (baseComponent as any).render(props, props.ref);\n    } else if (\n      typeof baseComponent === \"function\" &&\n      !(baseComponent.prototype instanceof Component)\n    ) {\n      delete props.cssInterop;\n      return (baseComponent as any)(props);\n    } else {\n      return createElement(baseComponent, props);\n    }\n  });\n  interopComponent.displayName = `CssInterop.${\n    baseComponent.displayName ?? baseComponent.name ?? \"unknown\"\n  }`;\n  interopComponents.set(baseComponent, interopComponent);\n  return interopComponent;\n};\n\n// On web, these are the same\nexport const remapProps = cssInterop;\n\nexport const useUnstableNativeVariable = (name: string) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"useUnstableNativeVariable is not supported on web.\");\n  }\n  return undefined;\n};\n\nexport function vars<T extends Record<`--${string}`, string | number>>(\n  variables: T,\n) {\n  const $variables: Record<string, string> = {};\n\n  for (const [key, value] of Object.entries(variables)) {\n    if (key.startsWith(\"--\")) {\n      $variables[key] = value.toString();\n    } else {\n      $variables[`--${key}`] = value.toString();\n    }\n  }\n  return $variables;\n}\n\nexport function useSafeAreaEnv(): {} | undefined {\n  return undefined;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}