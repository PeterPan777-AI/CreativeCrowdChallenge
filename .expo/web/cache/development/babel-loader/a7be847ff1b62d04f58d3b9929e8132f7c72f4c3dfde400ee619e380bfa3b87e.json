{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Feather } from '@expo/vector-icons';\nimport { theme } from \"../styles\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: theme.colors.gray[50],\n    borderRadius: 8,\n    padding: 12,\n    marginTop: 4\n  },\n  ratingHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12\n  },\n  ratingRow: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  ratingLabel: {\n    color: theme.colors.gray[700],\n    fontWeight: '500',\n    marginRight: 8\n  },\n  ratingValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#F59E0B',\n    marginRight: 4\n  },\n  votesText: {\n    color: theme.colors.gray[500]\n  },\n  rateText: {\n    color: theme.colors.gray[700],\n    fontWeight: '500',\n    marginBottom: 8\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 8\n  },\n  starButton: {\n    marginRight: 4\n  },\n  disabledStar: {\n    opacity: 0.5\n  },\n  userRatingText: {\n    textAlign: 'center',\n    color: theme.colors.gray[600],\n    fontStyle: 'italic',\n    marginTop: 4\n  },\n  readonlyContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  disabledMessage: {\n    fontSize: 14,\n    color: theme.colors.gray[500],\n    marginTop: 4,\n    width: '100%',\n    textAlign: 'center'\n  }\n});\nexport default function RatingComponent(_ref) {\n  var _ref$userRating = _ref.userRating,\n    userRating = _ref$userRating === void 0 ? 0 : _ref$userRating,\n    _ref$avgRating = _ref.avgRating,\n    avgRating = _ref$avgRating === void 0 ? 0 : _ref$avgRating,\n    _ref$totalRatings = _ref.totalRatings,\n    totalRatings = _ref$totalRatings === void 0 ? 0 : _ref$totalRatings,\n    onRate = _ref.onRate,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    hoveredRating = _useState2[0],\n    setHoveredRating = _useState2[1];\n  var handleRate = function handleRate(rating) {\n    if (!disabled && onRate) {\n      onRate(rating);\n    }\n  };\n  var renderStars = function renderStars(currentRating) {\n    var interactive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var stars = [];\n    var _loop = function _loop(i) {\n      var filled = i <= currentRating;\n      var hovered = interactive && i <= hoveredRating;\n      stars.push(_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return interactive && handleRate(i);\n        },\n        onPressIn: function onPressIn() {\n          return interactive && setHoveredRating(i);\n        },\n        onPressOut: function onPressOut() {\n          return interactive && setHoveredRating(0);\n        },\n        disabled: !interactive || disabled,\n        style: [styles.starButton, disabled && styles.disabledStar],\n        children: _jsx(Feather, {\n          name: filled || hovered ? 'star' : 'star',\n          size: interactive ? 24 : 16,\n          color: filled || hovered ? '#F59E0B' : '#E5E7EB'\n        })\n      }, i));\n    };\n    for (var i = 1; i <= 10; i++) {\n      _loop(i);\n    }\n    return stars;\n  };\n  return _jsxs(View, {\n    className: \"bg-gray-50 rounded-lg p-3 mt-1\",\n    children: [_jsx(View, {\n      className: \"flex-row justify-between items-center mb-3\",\n      children: _jsxs(View, {\n        className: \"flex-row items-center\",\n        children: [_jsx(Text, {\n          className: \"text-gray-700 font-medium mr-2\",\n          children: \"Rating:\"\n        }), _jsx(Text, {\n          className: \"text-lg font-bold text-amber-500 mr-1\",\n          children: avgRating\n        }), _jsxs(Text, {\n          className: \"text-gray-500\",\n          children: [\"(\", totalRatings, \" \", totalRatings === 1 ? 'vote' : 'votes', \")\"]\n        })]\n      })\n    }), !disabled ? _jsxs(View, {\n      children: [_jsx(Text, {\n        className: \"text-gray-700 font-medium mb-2\",\n        children: \"Rate this submission:\"\n      }), _jsx(View, {\n        className: \"flex-row items-center justify-center py-2\",\n        children: renderStars(userRating, true)\n      }), userRating > 0 && _jsxs(Text, {\n        className: \"text-center text-gray-600 italic mt-1\",\n        children: [\"Your rating: \", userRating, \"/10\"]\n      })]\n    }) : _jsxs(View, {\n      className: \"flex-row flex-wrap items-center justify-center\",\n      children: [renderStars(avgRating), disabled && userRating === 0 && _jsx(Text, {\n        className: \"text-sm text-gray-500 mt-1 w-full text-center\",\n        children: disabled && userRating === 0 && \"You can't rate your own submission or this competition has ended.\"\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","TouchableOpacity","StyleSheet","Feather","theme","jsx","_jsx","jsxs","_jsxs","styles","create","container","backgroundColor","colors","gray","borderRadius","padding","marginTop","ratingHeader","flexDirection","justifyContent","alignItems","marginBottom","ratingRow","ratingLabel","color","fontWeight","marginRight","ratingValue","fontSize","votesText","rateText","starsContainer","paddingVertical","starButton","disabledStar","opacity","userRatingText","textAlign","fontStyle","readonlyContainer","flexWrap","disabledMessage","width","RatingComponent","_ref","_ref$userRating","userRating","_ref$avgRating","avgRating","_ref$totalRatings","totalRatings","onRate","_ref$disabled","disabled","_useState","_useState2","_slicedToArray","hoveredRating","setHoveredRating","handleRate","rating","renderStars","currentRating","interactive","arguments","length","undefined","stars","_loop","i","filled","hovered","push","onPress","onPressIn","onPressOut","style","children","name","size","className"],"sources":["/home/runner/workspace/src/components/RatingComponent.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Feather } from '@expo/vector-icons';\nimport { theme } from '../styles';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: theme.colors.gray[50],\n    borderRadius: 8,\n    padding: 12,\n    marginTop: 4,\n  },\n  ratingHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  ratingRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  ratingLabel: {\n    color: theme.colors.gray[700],\n    fontWeight: '500',\n    marginRight: 8,\n  },\n  ratingValue: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#F59E0B', // amber-500\n    marginRight: 4,\n  },\n  votesText: {\n    color: theme.colors.gray[500],\n  },\n  rateText: {\n    color: theme.colors.gray[700],\n    fontWeight: '500',\n    marginBottom: 8,\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 8,\n  },\n  starButton: {\n    marginRight: 4,\n  },\n  disabledStar: {\n    opacity: 0.5,\n  },\n  userRatingText: {\n    textAlign: 'center',\n    color: theme.colors.gray[600],\n    fontStyle: 'italic',\n    marginTop: 4,\n  },\n  readonlyContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  disabledMessage: {\n    fontSize: 14,\n    color: theme.colors.gray[500],\n    marginTop: 4,\n    width: '100%',\n    textAlign: 'center',\n  }\n});\n\nexport default function RatingComponent({ \n  userRating = 0, \n  avgRating = 0, \n  totalRatings = 0, \n  onRate, \n  disabled = false \n}) {\n  const [hoveredRating, setHoveredRating] = useState(0);\n  \n  const handleRate = (rating) => {\n    if (!disabled && onRate) {\n      onRate(rating);\n    }\n  };\n  \n  const renderStars = (currentRating, interactive = false) => {\n    const stars = [];\n    \n    for (let i = 1; i <= 10; i++) {\n      const filled = i <= currentRating;\n      const hovered = interactive && i <= hoveredRating;\n      \n      stars.push(\n        <TouchableOpacity\n          key={i}\n          onPress={() => interactive && handleRate(i)}\n          onPressIn={() => interactive && setHoveredRating(i)}\n          onPressOut={() => interactive && setHoveredRating(0)}\n          disabled={!interactive || disabled}\n          style={[\n            styles.starButton,\n            disabled && styles.disabledStar\n          ]}\n        >\n          <Feather \n            name={filled || hovered ? 'star' : 'star'} \n            size={interactive ? 24 : 16} \n            color={filled || hovered ? '#F59E0B' : '#E5E7EB'} \n          />\n        </TouchableOpacity>\n      );\n    }\n    \n    return stars;\n  };\n  \n  return (\n    <View className=\"bg-gray-50 rounded-lg p-3 mt-1\">\n      {/* Average rating display */}\n      <View className=\"flex-row justify-between items-center mb-3\">\n        <View className=\"flex-row items-center\">\n          <Text className=\"text-gray-700 font-medium mr-2\">Rating:</Text>\n          <Text className=\"text-lg font-bold text-amber-500 mr-1\">{avgRating}</Text>\n          <Text className=\"text-gray-500\">({totalRatings} {totalRatings === 1 ? 'vote' : 'votes'})</Text>\n        </View>\n      </View>\n      \n      {/* User's rating or rating selector */}\n      {!disabled ? (\n        <View>\n          <Text className=\"text-gray-700 font-medium mb-2\">Rate this submission:</Text>\n          <View className=\"flex-row items-center justify-center py-2\">\n            {renderStars(userRating, true)}\n          </View>\n          {userRating > 0 && (\n            <Text className=\"text-center text-gray-600 italic mt-1\">\n              Your rating: {userRating}/10\n            </Text>\n          )}\n        </View>\n      ) : (\n        <View className=\"flex-row flex-wrap items-center justify-center\">\n          {renderStars(avgRating)}\n          {disabled && userRating === 0 && (\n            <Text className=\"text-sm text-gray-500 mt-1 w-full text-center\">\n              {disabled && userRating === 0 && \n                \"You can't rate your own submission or this competition has ended.\"}\n            </Text>\n          )}\n        </View>\n      )}\n    </View>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,UAAA;AAExC,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,KAAK;AAAoB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAElC,IAAMC,MAAM,GAAGP,UAAU,CAACQ,MAAM,CAAC;EAC/BC,SAAS,EAAE;IACTC,eAAe,EAAER,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,EAAE,CAAC;IACtCC,YAAY,EAAE,CAAC;IACfC,OAAO,EAAE,EAAE;IACXC,SAAS,EAAE;EACb,CAAC;EACDC,YAAY,EAAE;IACZC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,eAAe;IAC/BC,UAAU,EAAE,QAAQ;IACpBC,YAAY,EAAE;EAChB,CAAC;EACDC,SAAS,EAAE;IACTJ,aAAa,EAAE,KAAK;IACpBE,UAAU,EAAE;EACd,CAAC;EACDG,WAAW,EAAE;IACXC,KAAK,EAAErB,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7BY,UAAU,EAAE,KAAK;IACjBC,WAAW,EAAE;EACf,CAAC;EACDC,WAAW,EAAE;IACXC,QAAQ,EAAE,EAAE;IACZH,UAAU,EAAE,MAAM;IAClBD,KAAK,EAAE,SAAS;IAChBE,WAAW,EAAE;EACf,CAAC;EACDG,SAAS,EAAE;IACTL,KAAK,EAAErB,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,GAAG;EAC9B,CAAC;EACDiB,QAAQ,EAAE;IACRN,KAAK,EAAErB,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7BY,UAAU,EAAE,KAAK;IACjBJ,YAAY,EAAE;EAChB,CAAC;EACDU,cAAc,EAAE;IACdb,aAAa,EAAE,KAAK;IACpBE,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE,QAAQ;IACxBa,eAAe,EAAE;EACnB,CAAC;EACDC,UAAU,EAAE;IACVP,WAAW,EAAE;EACf,CAAC;EACDQ,YAAY,EAAE;IACZC,OAAO,EAAE;EACX,CAAC;EACDC,cAAc,EAAE;IACdC,SAAS,EAAE,QAAQ;IACnBb,KAAK,EAAErB,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7ByB,SAAS,EAAE,QAAQ;IACnBtB,SAAS,EAAE;EACb,CAAC;EACDuB,iBAAiB,EAAE;IACjBrB,aAAa,EAAE,KAAK;IACpBsB,QAAQ,EAAE,MAAM;IAChBpB,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE;EAClB,CAAC;EACDsB,eAAe,EAAE;IACfb,QAAQ,EAAE,EAAE;IACZJ,KAAK,EAAErB,KAAK,CAACS,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7BG,SAAS,EAAE,CAAC;IACZ0B,KAAK,EAAE,MAAM;IACbL,SAAS,EAAE;EACb;AACF,CAAC,CAAC;AAEF,eAAe,SAASM,eAAeA,CAAAC,IAAA,EAMpC;EAAA,IAAAC,eAAA,GAAAD,IAAA,CALDE,UAAU;IAAVA,UAAU,GAAAD,eAAA,cAAG,CAAC,GAAAA,eAAA;IAAAE,cAAA,GAAAH,IAAA,CACdI,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,CAAC,GAAAA,cAAA;IAAAE,iBAAA,GAAAL,IAAA,CACbM,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAG,CAAC,GAAAA,iBAAA;IAChBE,MAAM,GAAAP,IAAA,CAANO,MAAM;IAAAC,aAAA,GAAAR,IAAA,CACNS,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;EAEhB,IAAAE,SAAA,GAA0CzD,QAAQ,CAAC,CAAC,CAAC;IAAA0D,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA9CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EAEtC,IAAMI,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAM,EAAK;IAC7B,IAAI,CAACP,QAAQ,IAAIF,MAAM,EAAE;MACvBA,MAAM,CAACS,MAAM,CAAC;IAChB;EACF,CAAC;EAED,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,aAAa,EAA0B;IAAA,IAAxBC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IACrD,IAAMG,KAAK,GAAG,EAAE;IAAC,IAAAC,KAAA,YAAAA,MAAAC,CAAA,EAEa;MAC5B,IAAMC,MAAM,GAAGD,CAAC,IAAIP,aAAa;MACjC,IAAMS,OAAO,GAAGR,WAAW,IAAIM,CAAC,IAAIZ,aAAa;MAEjDU,KAAK,CAACK,IAAI,CACRnE,IAAA,CAACL,gBAAgB;QAEfyE,OAAO,EAAE,SAATA,OAAOA,CAAA;UAAA,OAAQV,WAAW,IAAIJ,UAAU,CAACU,CAAC,CAAC;QAAA,CAAC;QAC5CK,SAAS,EAAE,SAAXA,SAASA,CAAA;UAAA,OAAQX,WAAW,IAAIL,gBAAgB,CAACW,CAAC,CAAC;QAAA,CAAC;QACpDM,UAAU,EAAE,SAAZA,UAAUA,CAAA;UAAA,OAAQZ,WAAW,IAAIL,gBAAgB,CAAC,CAAC,CAAC;QAAA,CAAC;QACrDL,QAAQ,EAAE,CAACU,WAAW,IAAIV,QAAS;QACnCuB,KAAK,EAAE,CACLpE,MAAM,CAACyB,UAAU,EACjBoB,QAAQ,IAAI7C,MAAM,CAAC0B,YAAY,CAC/B;QAAA2C,QAAA,EAEFxE,IAAA,CAACH,OAAO;UACN4E,IAAI,EAAER,MAAM,IAAIC,OAAO,GAAG,MAAM,GAAG,MAAO;UAC1CQ,IAAI,EAAEhB,WAAW,GAAG,EAAE,GAAG,EAAG;UAC5BvC,KAAK,EAAE8C,MAAM,IAAIC,OAAO,GAAG,SAAS,GAAG;QAAU,CAClD;MAAC,GAdGF,CAeW,CACpB,CAAC;IACH,CAAC;IAvBD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,EAAE,EAAEA,CAAC,EAAE;MAAAD,KAAA,CAAAC,CAAA;IAAA;IAyB5B,OAAOF,KAAK;EACd,CAAC;EAED,OACE5D,KAAA,CAACT,IAAI;IAACkF,SAAS,EAAC,gCAAgC;IAAAH,QAAA,GAE9CxE,IAAA,CAACP,IAAI;MAACkF,SAAS,EAAC,4CAA4C;MAAAH,QAAA,EAC1DtE,KAAA,CAACT,IAAI;QAACkF,SAAS,EAAC,uBAAuB;QAAAH,QAAA,GACrCxE,IAAA,CAACN,IAAI;UAACiF,SAAS,EAAC,gCAAgC;UAAAH,QAAA,EAAC;QAAO,CAAM,CAAC,EAC/DxE,IAAA,CAACN,IAAI;UAACiF,SAAS,EAAC,uCAAuC;UAAAH,QAAA,EAAE7B;QAAS,CAAO,CAAC,EAC1EzC,KAAA,CAACR,IAAI;UAACiF,SAAS,EAAC,eAAe;UAAAH,QAAA,GAAC,GAAC,EAAC3B,YAAY,EAAC,GAAC,EAACA,YAAY,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO,EAAC,GAAC;QAAA,CAAM,CAAC;MAAA,CAC3F;IAAC,CACH,CAAC,EAGN,CAACG,QAAQ,GACR9C,KAAA,CAACT,IAAI;MAAA+E,QAAA,GACHxE,IAAA,CAACN,IAAI;QAACiF,SAAS,EAAC,gCAAgC;QAAAH,QAAA,EAAC;MAAqB,CAAM,CAAC,EAC7ExE,IAAA,CAACP,IAAI;QAACkF,SAAS,EAAC,2CAA2C;QAAAH,QAAA,EACxDhB,WAAW,CAACf,UAAU,EAAE,IAAI;MAAC,CAC1B,CAAC,EACNA,UAAU,GAAG,CAAC,IACbvC,KAAA,CAACR,IAAI;QAACiF,SAAS,EAAC,uCAAuC;QAAAH,QAAA,GAAC,eACzC,EAAC/B,UAAU,EAAC,KAC3B;MAAA,CAAM,CACP;IAAA,CACG,CAAC,GAEPvC,KAAA,CAACT,IAAI;MAACkF,SAAS,EAAC,gDAAgD;MAAAH,QAAA,GAC7DhB,WAAW,CAACb,SAAS,CAAC,EACtBK,QAAQ,IAAIP,UAAU,KAAK,CAAC,IAC3BzC,IAAA,CAACN,IAAI;QAACiF,SAAS,EAAC,+CAA+C;QAAAH,QAAA,EAC5DxB,QAAQ,IAAIP,UAAU,KAAK,CAAC,IAC3B;MAAmE,CACjE,CACP;IAAA,CACG,CACP;EAAA,CACG,CAAC;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}