{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNormalizeConfig = getNormalizeConfig;\nfunction getNormalizeConfig(mapping) {\n  var configs = [];\n  for (var _ref of Object.entries(mapping)) {\n    var _ref2 = _slicedToArray(_ref, 2);\n    var source = _ref2[0];\n    var options = _ref2[1];\n    var target = void 0;\n    var inlineProp = void 0;\n    var propToRemove = void 0;\n    var nativeStyleToProp = void 0;\n    if (!options) continue;\n    if (options === true) {\n      target = [source];\n    } else if (typeof options === \"string\") {\n      target = [options];\n    } else if (options.target === false) {\n      target = [source];\n      propToRemove = source;\n      nativeStyleToProp = parseNativeStyleToProp(options.nativeStyleToProp);\n    } else {\n      target = options.target === true ? [source] : options.target.split(\".\");\n      nativeStyleToProp = parseNativeStyleToProp(options.nativeStyleToProp);\n    }\n    if (target.length === 1 && target[0] !== source) {\n      inlineProp = target[0];\n    }\n    configs.push({\n      nativeStyleToProp: nativeStyleToProp,\n      source: source,\n      target: target,\n      inlineProp: inlineProp,\n      propToRemove: propToRemove\n    });\n  }\n  return configs;\n}\nfunction parseNativeStyleToProp(nativeStyleToProp) {\n  if (!nativeStyleToProp) return;\n  return Object.entries(nativeStyleToProp).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n      key = _ref4[0],\n      value = _ref4[1];\n    return [key, value === true ? [key] : value.split(\".\")];\n  });\n}","map":{"version":3,"names":["exports","getNormalizeConfig","mapping","configs","_ref","Object","entries","_ref2","_slicedToArray","source","options","target","inlineProp","propToRemove","nativeStyleToProp","parseNativeStyleToProp","split","length","push","map","_ref3","_ref4","key","value"],"sources":["/home/runner/workspace/node_modules/react-native-css-interop/src/runtime/config.ts"],"sourcesContent":["import { EnableCssInteropOptions, InteropComponentConfig } from \"../types\";\n\nexport function getNormalizeConfig(\n  mapping: EnableCssInteropOptions<any>,\n): InteropComponentConfig[] {\n  const configs: InteropComponentConfig[] = [];\n\n  for (const [source, options] of Object.entries(mapping)) {\n    let target: string[];\n    let inlineProp: string | undefined;\n    let propToRemove: string | undefined;\n    let nativeStyleToProp: InteropComponentConfig[\"nativeStyleToProp\"];\n\n    if (!options) continue;\n\n    if (options === true) {\n      target = [source];\n    } else if (typeof options === \"string\") {\n      target = [options];\n    } else if (options.target === false) {\n      /*\n       * Even when target == false, you still need to process as normal. As nativeStyleToProp may move a style\n       * Once the styles are moved, you then need to remove the prop as there maybe left over styles\n       * e.g paddingTop: calc(10 + 2em). The user may also set a fontSize here to force a value of the `em`\n       */\n      target = [source];\n      propToRemove = source;\n      nativeStyleToProp = parseNativeStyleToProp(options.nativeStyleToProp);\n    } else {\n      target = options.target === true ? [source] : options.target.split(\".\");\n      nativeStyleToProp = parseNativeStyleToProp(options.nativeStyleToProp);\n    }\n\n    if (target.length === 1 && target[0] !== source) {\n      inlineProp = target[0];\n    }\n\n    configs.push({\n      nativeStyleToProp,\n      source,\n      target,\n      inlineProp,\n      propToRemove,\n    });\n  }\n\n  return configs;\n}\n\nfunction parseNativeStyleToProp(\n  nativeStyleToProp?: Record<string, string | true>,\n): InteropComponentConfig[\"nativeStyleToProp\"] {\n  if (!nativeStyleToProp) return;\n\n  return Object.entries(nativeStyleToProp).map(([key, value]) => {\n    return [key, value === true ? [key] : value.split(\".\")];\n  });\n}\n"],"mappings":";;;;;;AAEAA,OAAA,CAAAC,kBAAA,GAAAA,kBAAA;AAAA,SAAgBA,kBAAkBA,CAChCC,OAAqC;EAErC,IAAMC,OAAO,GAA6B,EAAE;EAE5C,SAAAC,IAAA,IAAgCC,MAAM,CAACC,OAAO,CAACJ,OAAO,CAAC,EAAE;IAAA,IAAAK,KAAA,GAAAC,cAAA,CAAAJ,IAAA;IAAA,IAA7CK,MAAM,GAAAF,KAAA;IAAA,IAAEG,OAAO,GAAAH,KAAA;IACzB,IAAII,MAAgB;IACpB,IAAIC,UAA8B;IAClC,IAAIC,YAAgC;IACpC,IAAIC,iBAA8D;IAElE,IAAI,CAACJ,OAAO,EAAE;IAEd,IAAIA,OAAO,KAAK,IAAI,EAAE;MACpBC,MAAM,GAAG,CAACF,MAAM,CAAC;IACnB,CAAC,MAAM,IAAI,OAAOC,OAAO,KAAK,QAAQ,EAAE;MACtCC,MAAM,GAAG,CAACD,OAAO,CAAC;IACpB,CAAC,MAAM,IAAIA,OAAO,CAACC,MAAM,KAAK,KAAK,EAAE;MAMnCA,MAAM,GAAG,CAACF,MAAM,CAAC;MACjBI,YAAY,GAAGJ,MAAM;MACrBK,iBAAiB,GAAGC,sBAAsB,CAACL,OAAO,CAACI,iBAAiB,CAAC;IACvE,CAAC,MAAM;MACLH,MAAM,GAAGD,OAAO,CAACC,MAAM,KAAK,IAAI,GAAG,CAACF,MAAM,CAAC,GAAGC,OAAO,CAACC,MAAM,CAACK,KAAK,CAAC,GAAG,CAAC;MACvEF,iBAAiB,GAAGC,sBAAsB,CAACL,OAAO,CAACI,iBAAiB,CAAC;IACvE;IAEA,IAAIH,MAAM,CAACM,MAAM,KAAK,CAAC,IAAIN,MAAM,CAAC,CAAC,CAAC,KAAKF,MAAM,EAAE;MAC/CG,UAAU,GAAGD,MAAM,CAAC,CAAC,CAAC;IACxB;IAEAR,OAAO,CAACe,IAAI,CAAC;MACXJ,iBAAiB,EAAjBA,iBAAiB;MACjBL,MAAM,EAANA,MAAM;MACNE,MAAM,EAANA,MAAM;MACNC,UAAU,EAAVA,UAAU;MACVC,YAAY,EAAZA;KACD,CAAC;EACJ;EAEA,OAAOV,OAAO;AAChB;AAEA,SAASY,sBAAsBA,CAC7BD,iBAAiD;EAEjD,IAAI,CAACA,iBAAiB,EAAE;EAExB,OAAOT,MAAM,CAACC,OAAO,CAACQ,iBAAiB,CAAC,CAACK,GAAG,CAAC,UAAAC,KAAA,EAAiB;IAAA,IAAAC,KAAA,GAAAb,cAAA,CAAAY,KAAA;MAAfE,GAAG,GAAAD,KAAA;MAAEE,KAAK,GAAAF,KAAA;IACvD,OAAO,CAACC,GAAG,EAAEC,KAAK,KAAK,IAAI,GAAG,CAACD,GAAG,CAAC,GAAGC,KAAK,CAACP,KAAK,CAAC,GAAG,CAAC,CAAC;EACzD,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}