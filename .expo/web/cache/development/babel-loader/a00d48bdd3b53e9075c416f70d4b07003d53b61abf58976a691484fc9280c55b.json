{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Feather } from '@expo/vector-icons';\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CategorySuggestionForm(_ref) {\n  var onSubmit = _ref.onSubmit;\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    expanded = _useState8[0],\n    setExpanded = _useState8[1];\n  var handleSubmit = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!user) {\n        Alert.alert('Authentication Required', 'Please log in to suggest categories');\n        return;\n      }\n      if (!name.trim()) {\n        Alert.alert('Validation Error', 'Please enter a category name');\n        return;\n      }\n      if (!description.trim()) {\n        Alert.alert('Validation Error', 'Please provide a description for the category');\n        return;\n      }\n      try {\n        setLoading(true);\n        yield onSubmit(name, description);\n        setName('');\n        setDescription('');\n        setExpanded(false);\n      } catch (error) {\n        console.error('Error submitting category suggestion:', error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    className: \"bg-white rounded-lg p-4 shadow-sm\",\n    children: [_jsxs(TouchableOpacity, {\n      className: \"flex-row justify-between items-center\",\n      onPress: function onPress() {\n        return setExpanded(!expanded);\n      },\n      children: [_jsx(Text, {\n        className: \"text-lg font-bold text-gray-800\",\n        children: \"Suggest a New Category\"\n      }), _jsx(Feather, {\n        name: expanded ? 'chevron-up' : 'chevron-down',\n        size: 20,\n        color: \"#4B5563\"\n      })]\n    }), expanded && _jsxs(View, {\n      className: \"mt-4 space-y-4\",\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          className: \"text-gray-700 mb-1 font-medium\",\n          children: \"Category Name\"\n        }), _jsx(TextInput, {\n          className: \"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-800\",\n          placeholder: \"Enter a name for the category\",\n          value: name,\n          onChangeText: setName,\n          maxLength: 50\n        })]\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          className: \"text-gray-700 mb-1 font-medium\",\n          children: \"Description\"\n        }), _jsx(TextInput, {\n          className: \"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-800\",\n          placeholder: \"Describe what this category is about\",\n          value: description,\n          onChangeText: setDescription,\n          multiline: true,\n          numberOfLines: 3,\n          textAlignVertical: \"top\"\n        })]\n      }), _jsx(TouchableOpacity, {\n        className: `rounded-lg py-3 items-center ${loading ? 'bg-primary/70' : 'bg-primary'}`,\n        onPress: handleSubmit,\n        disabled: loading || !name.trim() || !description.trim(),\n        children: loading ? _jsx(ActivityIndicator, {\n          size: \"small\",\n          color: \"white\"\n        }) : _jsx(Text, {\n          className: \"text-white font-bold\",\n          children: \"Submit Suggestion\"\n        })\n      }), _jsx(Text, {\n        className: \"text-xs text-gray-500 text-center italic\",\n        children: \"Your suggestion will be reviewed by our administrators.\"\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","ActivityIndicator","Alert","Feather","useAuth","jsx","_jsx","jsxs","_jsxs","CategorySuggestionForm","_ref","onSubmit","_useAuth","user","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","_useState5","_useState6","loading","setLoading","_useState7","_useState8","expanded","setExpanded","handleSubmit","_ref2","_asyncToGenerator","alert","trim","error","console","apply","arguments","className","children","onPress","size","color","placeholder","value","onChangeText","maxLength","multiline","numberOfLines","textAlignVertical","disabled"],"sources":["/home/runner/workspace/src/components/CategorySuggestionForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  ActivityIndicator,\n  Alert,\n} from 'react-native';\nimport { Feather } from '@expo/vector-icons';\nimport { useAuth } from '../context/AuthContext';\n\nexport default function CategorySuggestionForm({ onSubmit }) {\n  const { user } = useAuth();\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [expanded, setExpanded] = useState(false);\n  \n  const handleSubmit = async () => {\n    if (!user) {\n      Alert.alert('Authentication Required', 'Please log in to suggest categories');\n      return;\n    }\n    \n    if (!name.trim()) {\n      Alert.alert('Validation Error', 'Please enter a category name');\n      return;\n    }\n    \n    if (!description.trim()) {\n      Alert.alert('Validation Error', 'Please provide a description for the category');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      await onSubmit(name, description);\n      \n      // Reset form\n      setName('');\n      setDescription('');\n      setExpanded(false);\n    } catch (error) {\n      console.error('Error submitting category suggestion:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <View className=\"bg-white rounded-lg p-4 shadow-sm\">\n      <TouchableOpacity \n        className=\"flex-row justify-between items-center\"\n        onPress={() => setExpanded(!expanded)}\n      >\n        <Text className=\"text-lg font-bold text-gray-800\">Suggest a New Category</Text>\n        <Feather \n          name={expanded ? 'chevron-up' : 'chevron-down'} \n          size={20} \n          color=\"#4B5563\" \n        />\n      </TouchableOpacity>\n      \n      {expanded && (\n        <View className=\"mt-4 space-y-4\">\n          <View>\n            <Text className=\"text-gray-700 mb-1 font-medium\">Category Name</Text>\n            <TextInput\n              className=\"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-800\"\n              placeholder=\"Enter a name for the category\"\n              value={name}\n              onChangeText={setName}\n              maxLength={50}\n            />\n          </View>\n          \n          <View>\n            <Text className=\"text-gray-700 mb-1 font-medium\">Description</Text>\n            <TextInput\n              className=\"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-800\"\n              placeholder=\"Describe what this category is about\"\n              value={description}\n              onChangeText={setDescription}\n              multiline\n              numberOfLines={3}\n              textAlignVertical=\"top\"\n            />\n          </View>\n          \n          <TouchableOpacity\n            className={`rounded-lg py-3 items-center ${loading ? 'bg-primary/70' : 'bg-primary'}`}\n            onPress={handleSubmit}\n            disabled={loading || !name.trim() || !description.trim()}\n          >\n            {loading ? (\n              <ActivityIndicator size=\"small\" color=\"white\" />\n            ) : (\n              <Text className=\"text-white font-bold\">Submit Suggestion</Text>\n            )}\n          </TouchableOpacity>\n          \n          <Text className=\"text-xs text-gray-500 text-center italic\">\n            Your suggestion will be reviewed by our administrators.\n          </Text>\n        </View>\n      )}\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}